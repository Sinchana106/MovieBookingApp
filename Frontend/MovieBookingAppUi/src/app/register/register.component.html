<!--Code To Design Registration Form-->
<body>
    <div>
        <mat-card>

            <mat-toolbar color="primary">
                <h1>Register</h1>
            </mat-toolbar>

            <mat-card-content>
                <form class="my-form" #registerForm="ngForm">

                    <!--Username Field With Validation-->
                    <mat-form-field class="full-width">
                        <mat-label>Username </mat-label>
                        <input type="text" matInput ngModel #username="ngModel" name="username" id="username"
                            placeholder="Enter Username" (input)="checkUsernameExist(registerForm)" required>
                        <mat-error *ngIf="username.invalid && username.touched">
                            <mat-error *ngIf="username.errors?.['usernameExist']">Username already exist!</mat-error>
                            <mat-error *ngIf="username.errors?.['required']">Username is Mandatory</mat-error>
                        </mat-error>

                    <!--Password Field With Validation-->
                    </mat-form-field>
                    <mat-form-field class="full-width">
                        <mat-label>Password </mat-label>
                        <input type="password" matInput #password="ngModel" ngModel name="password" id="password"
                            placeholder="Enter Password" minlength="8"
                            pattern="^(?=.*[A-Za-z])(?=.*\d)(?=.*[@$!%*#?&])[A-Za-z\d@$!%*#?&]{8,}$" required>
                        <mat-error *ngIf="password.invalid && (password.dirty || password.touched)">
                            <mat-error *ngIf="password.errors?.['required']">Enter the password</mat-error>
                            <mat-error *ngIf="password.errors?.['minlength']"> Password must atleast contain 8
                                characters</mat-error>
                            <mat-error *ngIf="password.errors?.['pattern']"> User Password should contain atleast one
                                uppercase,one numeric and a special character.</mat-error>
                        </mat-error>
                    </mat-form-field>

                    <!--Confirm Password Field With Validation-->
                    <mat-form-field class="full-width">
                        <mat-label> Confirm Password </mat-label>
                        <input type="password" (input)=" validatePassword(registerForm)" matInput ngModel
                            #confirmPassword="ngModel" name="confirmPassword" id="confirmPassword"
                            placeholder="Enter Confirm Password" required>
                        <mat-error *ngIf="confirmPassword.touched">
                            <mat-error *ngIf="confirmPassword.errors?.['passwordMismatch']">Password and Confirm
                                Password doesnot match</mat-error>
                        </mat-error>
                    </mat-form-field>

                    <!--First Name Field With Validation-->
                    <mat-form-field class="full-width">
                        <mat-label>First Name </mat-label>
                        <input type="text" matInput #firstName="ngModel" ngModel name="firstName" id="firstName"
                            placeholder="Enter First Name" required pattern="[a-zA-Z]+">
                        <mat-error *ngIf="firstName.invalid && (firstName.touched || firstName.dirty)">
                            <mat-error *ngIf="firstName.errors?.['required']">Enter First Name</mat-error>
                            <mat-error *ngIf="firstName.errors?.['pattern']">First Name should contain only aplhabets
                            </mat-error>
                        </mat-error>
                    </mat-form-field>

                    <!--Last Name Field With Validation-->
                    <mat-form-field class="full-width">
                        <mat-label>Last Name </mat-label>
                        <input type="text" matInput #lastName="ngModel" ngModel name="lastName" id="lastName"
                            placeholder="Enter Last Name" required>
                        <mat-error *ngIf="lastName.invalid && (lastName.touched || lastName.dirty)">
                            <mat-error *ngIf="lastName.errors?.['required']">Enter Last Name</mat-error>
                            <mat-error *ngIf="lastName.errors?.['pattern']">Last Name should contain only aplhabets
                            </mat-error>
                        </mat-error>
                    </mat-form-field>

                    <!--Contact Number Field With Validation-->
                    <mat-form-field class="full-width">
                        <mat-label>Contact Number </mat-label>
                        <input type="tel" matInput #contactNo="ngModel" ngModel name="contactNo" id="contactNo"
                            placeholder="Enter Contact Number" required minlength="10" maxlength="10" pattern="[0-9]+">
                        <mat-error *ngIf="contactNo.invalid && (contactNo.touched || contactNo.dirty)">
                            <mat-error *ngIf="contactNo.errors?.['required']">Contact Number is Mandatory</mat-error>
                            <mat-error *ngIf="contactNo.errors?.['minlength'] || contactNo.errors?.['maxlength']">
                                Contact Number should contains 10 digits</mat-error>
                        </mat-error>
                    </mat-form-field>

                    <!--Email Field With Validation-->
                    <mat-form-field class="full-width">
                        <mat-label>Email </mat-label>
                        <input type="email" #email="ngModel" (input)="checkEmailExist(registerForm)" matInput ngModel
                            name="email" id="email" placeholder="Enter Email" required
                            pattern="^[a-zA-Z0-9]+(?:\.[a-zA-Z0-9]+)*@[a-zA-Z0-9]+(?:\.[a-zA-Z0-9]+)*$">
                        <mat-error *ngIf="email.invalid && (email.dirty || email.touched)">
                            <mat-error *ngIf="email.errors?.['required']">Email is Mandatory</mat-error>
                            <mat-error *ngIf="email.errors?.['pattern']">Enter a Valid email (Ex: abc@gmail.com)
                            </mat-error>
                            <mat-error *ngIf="email.errors?.['emailExist']">Email Already Exist!</mat-error>
                        </mat-error>
                    </mat-form-field>

                    <!--Favourite City Field With Validation-->
                    <mat-form-field class="full-width">
                        <mat-label>Which is your Favourite City?</mat-label>
                        <input type="text" matInput #ans="ngModel" ngModel name="ans" id="ans"
                            placeholder="Enter Answer" required pattern="[a-zA-Z]+">
                        <mat-error *ngIf="ans.invalid && (ans.touched || ans.dirty)">
                            <mat-error *ngIf="ans.errors?.['required']">Answer is Mandatory</mat-error>
                            <mat-error *ngIf="ans.errors?.['pattern']">Enter a Valid City Name</mat-error>
                        </mat-error>
                    </mat-form-field>
                </form>
            </mat-card-content>

            <mat-card-actions>
                <button mat-raised-button color="primary" [disabled]="!registerForm.valid"
                    (click)="register(registerForm)">REGISTER</button>
            </mat-card-actions>

        </mat-card>
    </div>
</body>
<!--Code Ends Here-->